## S2T System

S2T System — это FastAPI приложение, которое преобразует речь в текст.

**Функции**

Ответ должен содержать:

* word-level метки времени.
* speaker diarization.

**Архитектура**

Необходимо _разделить io-нагрузку и inference_.

Соответственно обработка речи должна быть _асинхронной_.
Т.е. система должна добавить _запрос на обработку в очередь_ и не блокировать основной поток выполнения.

Когда пользователь отправляет запрос на обработку, система в первую очередь пытается дать синхронный ответ.
Если превышен лимит времени 3 секунды, то система возвращает идентификатор задачи.


**Контракт**

| Метод | Эндпоинт          | Описание                                                                              |
| ----- | ----------------- | ------------------------------------------------------------------------------------- |
| POST  | /speech/recognize | Вернуть транскрибированный ответ в течении 3 секунд. <br> Иначе вернуть id задачи. |
| GET   | /speech/recognize | Получить результат обработки по id задачи.                                            |


Примеры ответа:

```json
{
    "response": {
        "id": "some-id",
        "status": "pending"
    }
}
```

```json
{
    "response": {
        "words": [
            {
                "startTime": "0.879999999s",
                "endTime": "1.159999992s",
                "word": "some"
            },
            {
                "startTime": "1.219999995s",
                "endTime": "1.539999988s",
                "word": "text"
            }
        ],
        "text": "some text"
    }
}
```